{% extends "base.html" %}

{% block title %}Mensajes de Contacto{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <h2 class="mb-4 text-center">Mensajes de Contacto Recibidos</h2>
            
            <div class="mb-3">
                <a href="{{ url_for('home') }}" class="btn btn-secondary">← Volver al Inicio</a>
                <span class="float-end"><strong>Total de mensajes: {{ contacts|length }}</strong></span>
            </div>

            {% if contacts %}
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Correo</th>
                                <th>Teléfono</th>
                                <th>Ciudad</th>
                                <th>Fecha de Envío</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for contact in contacts %}
                            <tr>
                                <td>{{ contact.id }}</td>
                                <td>{{ contact.nombre }}</td>
                                <td><a href="mailto:{{ contact.correo }}">{{ contact.correo }}</a></td>
                                <td><a href="tel:{{ contact.telefono }}">{{ contact.telefono }}</a></td>
                                <td>{{ contact.ciudad }}</td>
                                <td>{{ contact.fecha_envio.strftime('%d/%m/%Y %H:%M') }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="alert alert-info text-center">
                    <h4>No hay mensajes de contacto</h4>
                    <p>Aún no se han recibido mensajes a través del formulario de contacto.</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>

<style>
.table th {
    vertical-align: middle;
    text-align: center;
}
.table td {
    vertical-align: middle;
}
.container {
    max-width: 1200px;
}
</style>
{% endblock %}